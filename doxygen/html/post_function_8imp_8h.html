<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HT/SQL: C:/projects/htsql/postFunction.imp.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HT/SQL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">C:/projects/htsql/postFunction.imp.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="mk_session_8h_source.html">mkSession.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pre_object_variable_8h_source.html">preObjectVariable.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="post_object_generic_8h_source.html">postObjectGeneric.h</a>&quot;</code><br />
</div>
<p><a href="post_function_8imp_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a37936e1227d6ed228d8b71f759ce18db"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__mk_session.html">_mkSession</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="post_function_8imp_8h.html#a37936e1227d6ed228d8b71f759ce18db">MKSession</a></td></tr>
<tr class="separator:a37936e1227d6ed228d8b71f759ce18db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14b07d8746324842a2bdf4699fb807a8"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct___post_object_generic.html">_PostObjectGeneric</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="post_function_8imp_8h.html#a14b07d8746324842a2bdf4699fb807a8">PostObjectGeneric</a></td></tr>
<tr class="separator:a14b07d8746324842a2bdf4699fb807a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af3ef59fe92097545daa0ea097bc4ad95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="post_function_8imp_8h.html#af3ef59fe92097545daa0ea097bc4ad95">cleanUpFunctionStack</a> (<a class="el" href="ajax_8h.html#a37936e1227d6ed228d8b71f759ce18db">MKSession</a> *currentMKSession)</td></tr>
<tr class="separator:af3ef59fe92097545daa0ea097bc4ad95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a911cfb4ee1d839089e2a42f95a9047f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="post_function_8imp_8h.html#a911cfb4ee1d839089e2a42f95a9047f5">runPostFunction</a> (<a class="el" href="ajax_8h.html#a37936e1227d6ed228d8b71f759ce18db">MKSession</a> *currentMKSession, char *objectFullName, bool ignoreNotFound)</td></tr>
<tr class="separator:a911cfb4ee1d839089e2a42f95a9047f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0c5455d95e3addeb73bcd4ae909a9a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mk_session_8h.html#a14b07d8746324842a2bdf4699fb807a8">PostObjectGeneric</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="post_function_8imp_8h.html#af0c5455d95e3addeb73bcd4ae909a9a7">createANewFunctionCallStackStartPoint</a> (<a class="el" href="ajax_8h.html#a37936e1227d6ed228d8b71f759ce18db">MKSession</a> *currentMKSession, const char *functionName)</td></tr>
<tr class="separator:af0c5455d95e3addeb73bcd4ae909a9a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12b31a8277575fdfae81aa0862ba3167"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="post_function_8imp_8h.html#a12b31a8277575fdfae81aa0862ba3167">postFunctionAddArgumentsOrVariables</a> (<a class="el" href="ajax_8h.html#a37936e1227d6ed228d8b71f759ce18db">MKSession</a> *currentMKSession, const char *pVariableName, const char *pPreObjectVariableValue)</td></tr>
<tr class="separator:a12b31a8277575fdfae81aa0862ba3167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f901a71c35be5543c007128cc9977c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="post_function_8imp_8h.html#a0f901a71c35be5543c007128cc9977c0">__setPostFunctionLocalVariableValue</a> (<a class="el" href="ajax_8h.html#a37936e1227d6ed228d8b71f759ce18db">MKSession</a> *currentMKSession, const char *postFunctionLocalVariableName, const char *newValue)</td></tr>
<tr class="separator:a0f901a71c35be5543c007128cc9977c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a37936e1227d6ed228d8b71f759ce18db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37936e1227d6ed228d8b71f759ce18db">&#9670;&nbsp;</a></span>MKSession</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__mk_session.html">_mkSession</a> <a class="el" href="ajax_8h.html#a37936e1227d6ed228d8b71f759ce18db">MKSession</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a14b07d8746324842a2bdf4699fb807a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14b07d8746324842a2bdf4699fb807a8">&#9670;&nbsp;</a></span>PostObjectGeneric</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___post_object_generic.html">_PostObjectGeneric</a> <a class="el" href="mk_session_8h.html#a14b07d8746324842a2bdf4699fb807a8">PostObjectGeneric</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0f901a71c35be5543c007128cc9977c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f901a71c35be5543c007128cc9977c0">&#9670;&nbsp;</a></span>__setPostFunctionLocalVariableValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __setPostFunctionLocalVariableValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ajax_8h.html#a37936e1227d6ed228d8b71f759ce18db">MKSession</a> *&#160;</td>
          <td class="paramname"><em>currentMKSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>postFunctionLocalVariableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>newValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>send error message to client "local variable name not found." </p>

</div>
</div>
<a id="af3ef59fe92097545daa0ea097bc4ad95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3ef59fe92097545daa0ea097bc4ad95">&#9670;&nbsp;</a></span>cleanUpFunctionStack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanUpFunctionStack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ajax_8h.html#a37936e1227d6ed228d8b71f759ce18db">MKSession</a> *&#160;</td>
          <td class="paramname"><em>currentMKSession</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<h2>IMPORTANT USAGE INFO: </h2>
<p>PostObjectGeneric data type is defined as a storage for local variables and function arguments of the HTSQL function being running or to be called. Example usage can be found in <a class="el" href="ajax_8c.html">ajax.c</a> file</p>
<p>Step.1: Before a new function call is made, Caller is to store the current value of the rootPostObjectGeneric and currentPreObjectGeneric variables defined in MKSession object. PostObjectGeneric *prevRootPostObjectGeneric = currentMKSession-&gt;rootPostObjectGeneric; PostObjectGeneric *prevCurrentPostObjectGeneric = currentMKSession-&gt;currentPostObjectGeneric;</p>
<p>Step.2: A new PostObjectGenetic object will be created and stored in the rootPostObjectGeneric variable defined in MKSession object by calling createANewFunctionCallStackStartPoint(..). The object created newly will be the start point for local variables and function arguments. This value should be assigned currentMKSession-&gt;currentPostObjectGeneric as well. currentMKSession-&gt;rootPostObjectGeneric = createANewFunctionCallStackStartPoint(currentMKSession, functionNameToBeCalled); currentMKSession-&gt;currentPostObjectGeneric = currentMKSession-&gt;rootPostObjectGeneric;</p>
<p>Step.3 Add "blockname" as an argument to the stack by using postFunctionAddArguments(..) c function. postFunctionAddArgumentsOrVariables(currentMKSession, "blockname", Current Block Name );</p>
<p>Step.4 Add arguments to the stack by using postFunctionAddArguments(..) c function. postFunctionAddArguments(..);</p>
<p>Step.5 Run the HTSQL function by calling the c function below. runPostFunction(currentMKSession, functionNameToBeCalled);</p>
<p>Step.6. After execution the HTSQL function ends, the "function return value" will be in the object instance which was created in Step.2.</p>
<p>Step.7: After execution of the HT/SQL function ends, caller is responsible of the destroy all the linked list . If this is ignored, start point of the linked list will be lost and memory leak is inevitable. cleanUpFunctionStack(currentMKSession);</p>
<p>Step.8: After execution of the HTSQL function and destroying linked list, as a last step, caller should then restore the orjinal value of the currentMKSession-&gt;rootPostObjectGeneric and currentMKSession-&gt;currentPostObjectGeneric variable. currentMKSession-&gt;rootPostObjectGeneric = prevRootPostObjectGeneric; currentMKSession-&gt;currentPostObjectGeneric = prevCurrentPostObjectGeneric;</p>
<p>Initially, rootPostObjectGeneric variable is assigned NULL. Procedure can call another procedure or itself again and again. IF all steps above is followed properly, rootPostObjectGeneric variable should be NULL since all callers are responsible to store old value back.</p>
<p>cleanUpAjaxRequest </p>

</div>
</div>
<a id="af0c5455d95e3addeb73bcd4ae909a9a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0c5455d95e3addeb73bcd4ae909a9a7">&#9670;&nbsp;</a></span>createANewFunctionCallStackStartPoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mk_session_8h.html#a14b07d8746324842a2bdf4699fb807a8">PostObjectGeneric</a>* createANewFunctionCallStackStartPoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ajax_8h.html#a37936e1227d6ed228d8b71f759ce18db">MKSession</a> *&#160;</td>
          <td class="paramname"><em>currentMKSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>functionName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>How to call a HTSQL function from C function </p>

</div>
</div>
<a id="a12b31a8277575fdfae81aa0862ba3167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12b31a8277575fdfae81aa0862ba3167">&#9670;&nbsp;</a></span>postFunctionAddArgumentsOrVariables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void postFunctionAddArgumentsOrVariables </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ajax_8h.html#a37936e1227d6ed228d8b71f759ce18db">MKSession</a> *&#160;</td>
          <td class="paramname"><em>currentMKSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pVariableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pPreObjectVariableValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a911cfb4ee1d839089e2a42f95a9047f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a911cfb4ee1d839089e2a42f95a9047f5">&#9670;&nbsp;</a></span>runPostFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void runPostFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ajax_8h.html#a37936e1227d6ed228d8b71f759ce18db">MKSession</a> *&#160;</td>
          <td class="paramname"><em>currentMKSession</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>objectFullName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignoreNotFound</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
